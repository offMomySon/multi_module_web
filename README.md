# App module

```
모듈들

'프로토콜 메세지 해석 모듈' 
- 임의의 클라이언트로 부터 수신한 메세지를 서버가 이해할 수 있는 데이터로 변환하는 역할을 수행한다.

'필터링 모듈'
- 서버의 설정에 따라 변환된 메세지가 실행가능 여부를 확인하는 모듈.

'클라이언트 요철 식별 모듈'
- 변환된 메세지를 수행할 수 있는 메서드 또는 클래스를 찾고 실행에 필요한 데이터를 파싱하는 역할을 한다.

'데이터 영속 모듈'
- 비즈니스 로직에서 생성되는 데이터를 영속하거나, 영속된 데이터를 호출하는 모듈.

'프로토콜 메세지 생성 모듈'
- 비즈니스 로직의 산출물에 따라 클라이언트에 전송할 프로토콜 메세지를 생성하는 모듈
```
```
메인루틴.

메인모듈에서 클라이언트의 요청을 수신하다.
수신한 요청을 '프로토콜 메세지를 해석 모듈' 에서 메세지를 해석한다.
해석된 메세지에 대해 비즈니스로직 수행가능성 여부를 확인하기 위해 '필터링 모듈' 에서 메세지의 적합성을 확인한다.
만약 비즈니스 로직을 수행할 수 없는 메세지라면 '프로토콜 메세지 생성 모듈' 을 호출하여 실패에 대한 메세지를 생성후 전송한다.
비즈니스 로직을 수행할 수 있는 메세지라면 '클라이언트 요청 식별 모듈' 을 호출하여 실행 가능한 메서드, 클래스 존재 유무를 확인한다.
만약 존재하지 않는 메세지이면 '프로토콜 메세지 생성 모듈' 을 호출하여 실패에 대한 메세지를 생성후 전송한다.
존재하는 메세지이면 비즈니스 로직을 수행하고 비즈니스 로직중 데이터 영속이 필요하다면 '데이터 영속 모듈' 을 호출하여 데이터를 영속시킨다.
이후, 비즈니스 로직이 반환한 응답값은 성질에 따라 '프로토콜 메세지 생성 모듈' 을 이용하여 클라이언트에게 전달한다.
```

## 프로토콜 메세지 해석 모듈
```
패키지들 

'요청 수신 설정 패키지'
- 클라이언트 요청 수신에 필요한 설정들을 정적리소스로 부터 로드하는 패키지.

'클라이언트 요청 수신 패키지'
- 클라이언트의 프로토콜 메세지를 수신하고, 메세지 수신을 대기하는 패키지.

'요청 데이터 파싱 패키지'
- 프로토콜 메세지로 부터 필요한 데이터로 변환하는 패키지.
```
```
메인루틴

클라이언트 프로토콜 메세지 수신 설정을 위해 '요청 수신 설정 패키지' 를 이용하여 수신에 필요한 정적 데이터 리소스를 로드한다.
설정값으로 셋팅된 데이터를 이용하여 '클라이언트 요청 수신 패키지' 에서 프로토콜 메세지 수신, 수신대기를 진행한다.
수신된 프로토콜 메세지로 부터 필요한 데이터를 파싱하고 데이터 객체에 담는다.
```
## 필터링 모듈
```
패키지들 

'필터링 설정 패키지'
- 필터링에 필요한 데이터들을 정적리소스로 부터 로드하는 패키지.

'클라이언트 요청 필터링 패키지'
- 클라이언트 요청이 서버의 설정에 따라 필터링 여부를 확인하는 모듈.
```
```
메인루틴

클라이언트 요청의 필터링을 위해 필터링 조건들을 '필터링 설정 패키지' 를 이용하여 필터링에 필요한 정적 데이터 리소스를 로드한다.
설정값으로 셋팅된 데이터를 이용하여 '클라이언트 요청 필터링 패키지' 에서 클라이언트 요청을 필터링한다.
```

## 클라이언트 요청 식별 모듈
```
패키지들 

'매핑 리소스 등록 패키지'
- 클라이언트 요청과 매핑될 클래스,메서드 설정들을 로드한다.

'비지니스 매핑 패키지'
- 클라이언트 요청과 매칭되는 클래스, 메서드 존재 유무를 확인하고, 호출한다.

'데이터 파싱 패키지'
- 메서드가 필요로하는 데이터를 클라이언트 메세지로부터 파싱하는 역할을 한다.

```
```
메인루틴

클라이언트 메세지를 클래스,메서드에 매핑하기위한 설정들을 '매핑 리소스 등록 패키지'를 이용하여 로드한다.
'비지니스 매필 모듈' 에서 클라이언트 메세지와 로드된 설정을 참조하여 매칭이되는 메서드, 클래스를 식별한다.
'데이터 파싱 모듈'에서 클라이언트 메세지를 분석하여 식별된 클래스,메서드에서 필요로하는 객체들을 파싱한다.
```

## 데이터 영속 모듈
```
패키지들 

'데이터 저장소 설정 패키지'
- 데이터를 저장하고,로드하는 역할을 수행하는 객체의 설정을 로드하는 패키지

'데이터 호출 패키지'
- 데이터 저장소로부터 데이터를 가져오는 패키지 (sql?)

'데이터 매핑 패키지'
- 로드된 데이터를 객체에 담기위한 패키지

```
```
메인루틴

데이터를 저장하고,로드하는 역할을 수행하는 객체의 설정들을 '데이터 저장소 설정 패키지'를 이용하여 로드한다.
'데이터 호출 패키지' 를 이용하여 데이터 저장소로부터 데이터를 가져오고,
가져온 데이터를 '데이터 매핑 패키지'를 이용하여 비즈니스 로직에 필요한 객체에 담는다.
```

## 프로토콜 메세지 생성 모듈
```
패키지들 

'응답값 해석 패키지'
- 비즈니스로직으로 부터 반환된 객체로부터 응답 포멧을 결정하는 패키지.

'프로토콜 메세지 생성 패키지'
- 응답 포멧별 프로토콜 메세지를 생성하는 패키지.

'응답 송신 패키지'
- 클라이언트에게 프로토콜 메세지를 송신하는 패키지.
```
```
메인루틴

'응답값 해석 모듈'에서 비즈니스로직으로 부터 반환된 객체로부터 응답 포멧을 결정한다.
결정된 응답 포멧에 따른 프로토콜 메세지를 생성한다.
생성된 프로토콜 메세지를 클라이언트로 송신한다.
```

